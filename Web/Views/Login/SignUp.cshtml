@{
    Layout = "_WithOutLayout";
    ViewData["Title"] = "Login";
}
<link rel="stylesheet" href="~/css/site-forms.css" asp-append-version="true" />

<div class="form-container">
    <div id="initial-content" class="text-center w-100">
        <h1 class="display-4 fw-bold mb-3">Crie sua conta</h1>
        <p class="lead text-muted mb-5">
            Junte-se a nós para ter acesso às massas mais deliciosas e práticas.
        </p>
        <button type="button" id="start-signup-btn" class="btn btn-primary btn-lg px-5">
            Começar Cadastro
        </button>
    </div>

    <form id="signup-form" class="w-100 form-card-custom" style="max-width: 500px; display: none;">
        <div class="text-center mb-4">
            <h5 class="modal-title">Novo Cadastro</h5>
            <div class="progress mt-3">
                <div class="progress-bar" role="progressbar" style="width: 33%" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>

        <div class="step-form">
            <div id="step-1" class="step-pane">
                <h6 class="text-muted text-center mb-4">Informações Pessoais</h6>

                <div class="form-div-input">
                    <label for="fullName" class="text">Nome Completo</label>
                    <input type="text" class="form-input" id="fullName" name="FullName" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="nickName" class="text">Apelido</label>
                    <input type="text" class="form-input" id="nickName" name="NickName" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="gender" class="text">Gênero</label>
                    <select class="form-input" id="gender" name="Gender" required>
                        <option value="">Selecione o gênero</option>
                        <option value="1">Masculino</option>
                        <option value="2">Feminino</option>
                        <option value="3">Outro</option>
                    </select>
                </div>

                <div class="form-div-input">
                    <label for="birthDate" class="text">Data de Nascimento</label>
                    <input type="date" class="form-input" id="birthDate" name="BirthDate">
                </div>

                <div class="form-div-input">
                    <label for="document" class="text">CPF</label>
                    <input type="text" class="form-input" id="document" name="Document" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="cellPhone" class="text">Celular</label>
                    <input type="tel" class="form-input" id="cellPhone" name="CellPhone" placeholder=" ">
                </div>

            </div>

            <div id="step-2" class="step-pane d-none">
                <h6 class="text-muted text-center mb-4">Endereço</h6>

                <div class="form-div-input">
                    <label for="zipCode" class="text">CEP</label>
                    <input type="text" class="form-input" id="zipCode" name="ZipCode" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="street" class="text">Rua</label>
                    <input type="text" class="form-input" id="street" name="Street" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="neighborhood" class="text">Bairro</label>
                    <input type="text" class="form-input" id="neighborhood" name="Neighborhood" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="number" class="text">Número</label>
                    <input type="text" class="form-input" id="number" name="Number" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="complement" class="text">Complemento</label>
                    <input type="text" class="form-input" id="complement" name="Complement" placeholder="">
                </div>

                <div class="form-div-input">
                    <label for="city" class="text">Cidade</label>
                    <input type="text" class="form-input" id="city" name="City" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="state" class="text">Estado</label>
                    <input type="text" class="form-input" id="state" name="State" placeholder=" " required>
                </div>
            </div>

            <div id="step-3" class="step-pane d-none">
                <h6 class="text-muted text-center mb-4">Dados da Conta</h6>

                <div class="form-div-input">
                    <label for="emailStep3" class="text">Email</label>
                    <input type="email" class="form-input" id="emailStep3" name="EmailAccount" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="password" class="text">Senha</label>
                    <input type="password" class="form-input" id="password" name="Password" placeholder=" ">
                </div>

                <div class="form-div-input">
                    <label for="repeatPassword" class="text">Confirmar senha</label>
                    <input type="password" class="form-input" id="repeatPassword" name="RepeatPassword" placeholder=" ">
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-between mt-4">
            <button type="button" class="btn btn-outline-primary" id="prevBtn">
                <i class="fas fa-chevron-left"></i> Voltar
            </button>
            <div class="ms-auto">
                <button type="button" class="btn btn-primary" id="nextBtn">
                    Próximo <i class="fas fa-chevron-right"></i>
                </button>
                <button type="submit" class="btn btn-primary" id="finishBtn" style="display: none;">
                    Finalizar Cadastro
                </button>
            </div>
        </div>
    </form>
</div>

<script>
    $(document).ready(function() {
        let currentStep = 1;
        const totalSteps = 3;

        function showStep(step) {
            $('.step-pane').addClass('d-none');
            $('#step-' + step).removeClass('d-none');

            if (step === totalSteps) {
                $('#nextBtn').hide();
                $('#finishBtn').show();
            } else {
                $('#nextBtn').show();
                $('#finishBtn').hide();
            }

            const progress = (step / totalSteps) * 100;
            $('.progress-bar').css('width', progress + '%').attr('aria-valuenow', progress);
        }

        $('#start-signup-btn').on('click', function() {
            $('#initial-content').hide();
            $('#signup-form').show();
            currentStep = 1;
            showStep(currentStep);
        });

        $('#nextBtn').on('click', function() {
            if (currentStep < totalSteps) {
                currentStep++;
                showStep(currentStep);
            }
        });

        $('#prevBtn').on('click', function() {
            if (currentStep === 1) {
                $('#signup-form').hide();
                $('#initial-content').show();
            } else {
                currentStep--;
                showStep(currentStep);
            }
        });
    });
</script>